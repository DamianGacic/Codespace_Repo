TYPE TEST,INPUT USER,EXPECTED RESULT,NOTES
CD,cd ../../../../../..,pwd : /,
CD,cd ~,pwd: ~,
CD,cd,pwd: ~,
CD,cd ~/Desktop,pwd: ~/Desktop,
CD,unset HOME - cd ~,"Error: HOME not set, EXIT 1",
CD,export HOME=/Users/user42 - cd ~,pwd: ~,
CD,cd .. cool swag,pwd: ../,
CD,cd Eyooooo,bash: cd: Eyooooo: No such file or directory - EXIT 1,"CHDIR sets the errno right, but bash does it differently"
CD,cd -,pwd: Last PWD,
CD,cd -,pwd: Last PWD,Do this one after row 10
CD,mkdir a - mkdir a/b - cd a/b - rm -r ../../a - cd ..,cd: error retrieving current directory: getcwd: cannot access parent directories: No such file or directory - EXIT 0,The exit 0 is from getcwd()
ECHO,echo,,Just a \n
ECHO,echo $NonExistingVar,,Just a \n
ECHO,echo $PATH,$PATH,
ECHO,echo ~,$HOME,
ECHO,echo -n -n -nnnn -nnnnm,-nnnnm,Without '\n'
ECHO,echo -n -nnn hello -n,hello -n,Without '\n'
ENV,env,All env and all user envs WITH content in it,Do export test1 & export test2=hi <- test1 should not show in env
ENV,env Weeiirrddd,env: weeirdd: No such file or directory - EXIT 127,
EXIT STATUS,cd Weyooo - echo $?,bash: cd: Weyooo: No such file or directory - EXIT 1,"CHDIR returns 2 to errno, but other functions return 1. Not your fault"
EXIT STATUS,random_cmd - echo $?,EXIT 127,
EXIT STATUS,./file_that_is_not_an_executable,bash: ./file_that_is_not_an_executable: Permission denied - EXIT 126,Fix it by using chmod
EXIT STATUS,cat bla,cat: bla: No such file or directory - EXIT 1,
EXIT STATUS,hi,bash: hi: command not found - EXIT 127,
EXIT STATUS,"export ls=""ls -l"" - $ls","Does what ""ls -l"" should do - EXIT 0",
EXIT STATUS,echo $ls,ls -l - EXIT 0,Do this after row 26
EXPORT,export var=a - export $var=test - echo $var $a,a test,
EXPORT,export $var=test - unset var,,
EXPORT,export test1 - env,"You will not see test1 in ""env"", but you will it in ""export""",declare -x test1
EXPORT,export test2= - env,"You will see test2 in ""env"" and ""export""","declare -x test2="""""
EXPORT,export var - export var=hoi - export,"var=""hoi""",Key is unique
EXPORT,"export """" test=a","minishell: export: "": not a valid identifier",
EXPORT,export test3=$HOME,"test3=""Users/user42""",
EXTRA,echo ~,/home/user42,
INIT,$SHLVL,Needs to increment once per new shell session,
PARSING,"""""",Error - EXIT 126 or EXIT 127,
PARSING,"echo ""\s"" ; echo ""\\s""",should have the exact same output,
PARSING,"echo ""12\""""","12""",
PARSING,"echo ""bip | bip ; coyotte > < """,[bip | bip ; coyotte >< ],
PARSING,echo \>,>,
PARSING,echo $USER$var$USER$USER$USERtest$USER,user42$USERuser42$USERtestuser42,
PARSING,echo bonjour \; ls,bonjour ; ls,
PARSING,$,command not found,
PARSING,$LESS$VAR,-R: command not found,
PARSING,..,"cmd not found, exit 127",
PARSING,"echo '""abc""'","""abc""",
PARSING,"echo """" bonjour",[ bonjour],
PARSING,"export ""test=ici""=coucou ; echo $test","test=""ici=coucou""",
PIPE,cat | cat | cat | ls,Press enter 3 times,
PIPE,cat Makefile | grep pr | head -n 5 | cd file_not_exit,file_not_exist: no such file... exit status: 1,
PIPE,cat Makefile | grep pr | head -n 5 | hello,hello: cmd not found... exit status: 127,
PIPE,ls | exit,,
REDIR,> test | echo blabla,blabla,"Creates a file called ""test"""
REDIR,exit > hoi.txt,Should exit & creates hoi.txt,
ENV,env | grep OLDPWD,Should exits,Open bash and open minishell immediately afterward
REDIR,cd .. > derp.txt,"Does not change dir, which should happen",
SIGNAL,cat - [ PRESS CTRL + C ],Should exit cat prompt - EXIT 130,
SIGNAL,cat - [ PRESS CTRL + \ ],Should exit cat prompt - EXIT 131,
SIGNAL,cat - [ PRESS CTRL + D ],Should exit cat prompt - EXIT 0,
REDIR,> file,Creates file,
REDIR,cat -e > test1 < test2,minishell: test2: No such file or directory - EXIT 1 or EXIT 2,"The function open() changes errno to 2, not 1. Test1 will be created"
REDIR,cat < test,minishell: test: No such file or directory - EXIT 1 or 2,"The function open() changes errno to 2, not 1. Test will not be created"
REDIR,echo 2 > out1 >> out2,"Both files are created, but out1 is empty, and out2 has ""2"" in it - EXIT 0",
REDIR,echo 2 >> out1 > out2,"Both files are created, but out1 is empty, and out2 has ""2"" in it - EXIT 0",
REDIR,echo test > file test1,= echo test test1 > file,
REDIR,Non_exist_cmd > salut,create file but error msg to STDERR,
,,,
ENV,unset all envs - env,Prints nothing,
ENV,unset all envs - export lol,"declare -x export=""lol""",
,,,
PIPES,Infinite file,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
,,,
SUBST,"export var=""  truc"" - echo $var | cat -e",[truc],Skip all spaces
SUBST,"export var=""truc  "" - echo $var | cat -e",[truc],Skip all spaces
SUBST,"echo ""$tests""""Makefile""",[Makefile],
SUBST,"echo ""$tests""Makefile",[Makefile],
SUBST,"echo ""$tests"" ""Makefile""",[ Makefile],
,,,
,,,
SUBST,export $var ($var does not exists),"Shows ""export""",
,,,
,,,
,,,
SUBST,"export test=""  foo    bar  "" ; echo $test",[foo bar],
SUBST,"export test=""  foo    bar  "" ; echo ab$test",[ab foo bar],
SUBST,"export test=""  foo    bar  "" ; echo ""ab""$test",[ab foo bar],
,,,
SUBST,SUBST,[ foo   bar ],
SUBST,"export test="" foo   bar "" ; echo """"$test""""",[ foo bar ],
SUBST,"export test="" foo   bar "" ; echo """"""$test""""""",[ foo   bar ],
SUBST,export var= s\ -la ; l$var,equivalent à ls -al,
SUBST,export var=at ; c$var Makefile,equivalent a cat Makefile,
SUBST,export loop='bonjour$loop' ; echo $loop,bonjour$loop,
SUBST & REDIR,"export test=""file1 file2"" ; >$test",$test: ambiguous redir,
SUBST & REDIR,"export test=""file1 file2"" ; >""$test""",[file1 file2] created,
SUBST & REDIR,"export test=""file1 file2"" ; >$test >hey","$test: ambiguous redir, hey n'est pas créé",
SUBST & REDIR,"export test=""file1 file2"" ; >hey >$test","$test: ambiguous redir, hey est créé",
SYNTHAX,|,"""synthax error"" & exit 2",
SYNTHAX,echo bonjour ; |,"""synthax error"" & exit 2",
SYNTHAX,echo bonjour > > out,"""synthax error"" & exit 2",
SYNTHAX,echo bonjour > $test,"""redirection ambigue"" & exit 1",
SYNTHAX,"echo bonjour > $test w/ test=""o1 o2""","""redirection ambigue"" & exit 1",
SYNTHAX,echo bonjour >>> test,"""synthax error"" & exit 2",
SYNTHAX,echo bonjour | |,"""synthax error"" & exit 2",
SYNTHAX,echo bonjour |;,"""synthax error"" & exit 2",
UNSET,unset PATH ; echo $PATH,\n,
UNSET,unset PATH ; ls,bash: ls: No such file or directory. Exit 127,
UNSET,"unset """" test",unset test et set $? à 1,
UNSET,unset =,erreur et set $? à 1,
UNSET,unset PWD,,
UNSET,unset var,var1 ne doit pas etre unset,
,export $var=s\ -la ; l$var,,
,/bin/echo bonjour,affiche bonjour,
,,,
SPECIAL CASES,cat wfeh | cat csijdsji | cat nfwir,,